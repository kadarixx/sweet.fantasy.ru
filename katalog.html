<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>Sweet fantasy-Сладкая фантазия</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles/catalog.css" />
    <script src="js/katalog.js"></script>
  </head>
  <body>
    <header>
      <div>
        <a class="a-glav" href="index.html">
          <h2 class="h2-1">
            Sweet <br />
            Fantasy
          </h2></a
        >
        <a class="a-glav" href="katalog.html">Каталог</a>
        <a class="a-glav" href="about.html">О нас</a>
        <a class="a-glav" href="delivery.html">Доставка и оплата</a>
        <a class="a-glav" href="contacts.html">Контакты</a>
        <a class="a-glav" href="form.html"
          ><img src="img/icon.png" alt="icon"
        /></a>
      </div>
    </header>
    <main>
      <!-- <form action="php/tovar01.php" method="POST"> -->
        <div class="product-card">
          <img
            src="img/heart.png"
            alt="Булочка с сахаром"
            width="235px"
            height="218px"
          />
          <p>Булочка c сахаром</p>
          <p>149 р.</p>
          <div class="count-div">
            <button class="count-button" onclick="changeCounterMinus('counter1')" >-</button>
            <input class="count-input" type="text" value="1" id="counter1" readonly >
            <button class="count-button" onclick="changeCounterPlus('counter1')">+</button>
          </div>
          <button class="product-card-button">В корзину</button>
        </div>
      <!-- </form> -->
      <div class="product-card">
        
        <img
          src="img/trubochka.png"
          alt="Трубочка с вареньем"
          width="235px"
          height="218px"
        />
        <p>Трубочка с вареньем</p>
        <p>89 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter2')" >-</button>
          <input class="count-input" type="text" value="1" id="counter2" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter2')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/cinabon.png"
          alt="Синнабон"
          width="235px"
          height="218px"
        />
        <p>Синнабон</p>
        <p>179 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter3')" >-</button>
          <input class="count-input" type="text" value="1" id="counter3" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter3')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/smorodina.png"
          alt="Булочка со смородиной"
          width="235px"
          height="218px"
        />
        <p>Булочка со смородиной</p>
        <p>139 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter4')" >-</button>
          <input class="count-input" type="text" value="1" id="counter4" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter4')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/rozan.png"
          alt="Булочка с творогом"
          width="235px"
          height="218px"
        />
        <p>Булочка с творогом</p>
        <p>139 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter5')" >-</button>
          <input class="count-input" type="text" value="1" id="counter5" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter5')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/maffin.png"
          alt="Маффин с шоколадом"
          width="235px"
          height="218px"
        />
        <p>Маффин с шоколадом</p>
        <p>119 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter6')" >-</button>
          <input class="count-input" type="text" value="1" id="counter6" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter6')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/coocie.png"
          alt="Печенье с шоколадом 6 шт"
          width="235px"
          height="218px"
        />
        <p>Печенье с шоколадом 6 шт</p>
        <p>249 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter7')" >-</button>
          <input class="count-input" type="text" value="1" id="counter7" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter7')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
      <div class="product-card">
        <img
          src="img/smorodina.png"
          alt="Булочка со смородиной"
          width="235px"
          height="218px"
        />
        <p>Булочка со смородиной</p>
        <p>139 р.</p>
        <div class="count-div">
          <button class="count-button" onclick="changeCounterMinus('counter8')" >-</button>
          <input class="count-input" type="text" value="1" id="counter8" readonly >
          <button class="count-button" onclick="changeCounterPlus('counter8')">+</button>
        </div>
        <button class="product-card-button">В корзину</button>
      </div>
    </main>
    <div class="pusto"></div>
    <footer>
      <div class="div-footer">
        <div class="pusto"></div>
        <a class="a-footer" href="index.html">Главная</a>
        <a class="a-footer-2" href="about.html">Почему мы?</a>
        <a class="a-footer-3">+7(900)234-34-45</a>
        <a class="a-footer-4">sweet.fantasy@mail.ru</a>
        <a class="a-footer-5">г. Воронеж, Ленинский проспект, д. 6</a>
        <label>
          <button class="button-footer">Запросить звонок</button>
        </label>
        <div class="pusto"></div>
      </div>
    </footer>

    <!-- Popup и overlay элементы -->
    <div id="overlay">
      <div id="popup">
        <img id="popup-img" src="" alt="Product Image" />
        <h2 id="popup-title"></h2>
        <p id="popup-price"></p>
        <button class="close-btn" onclick="closePopup()">в корзину</button>
      </div>
    </div>

    <script>
      // Добавляем обработчики событий для кнопок "В корзину"
        document.querySelectorAll(".product-card-button").forEach((button, index) => {
            // Для каждой кнопки с классом 'product-card-button' устанавливаем обработчик события 'click'
            button.addEventListener("click", () => {
                // Находим ближайший к мышке родительский элемент с классом 'product-card' (карточка товара)
                let card = button.closest(".product-card");

                // Извлекаем адрес изображения товара из элемента <img> внутри карточки
                let imgSrc = card.querySelector("img").src;

                // Извлекаем название товара из первого элемента <p> внутри карточки
                let title = card.querySelector("p:nth-of-type(1)").textContent;

                // Извлекаем цену товара из второго элемента <p> внутри карточки
                let price = card.querySelector("p:nth-of-type(2)").textContent;

                // Устанавливаем адрес изображения в popup
                document.getElementById("popup-img").src = imgSrc;

                // Устанавливаем название товара в popup
                document.getElementById("popup-title").textContent = title;

                // Устанавливаем цену товара в popup
                document.getElementById("popup-price").textContent = price;

                // Показываем overlay и popup, устанавливая стиль 'display' в 'flex'
                document.getElementById("overlay").style.display = "flex";
            });
        });

        // Функция для закрытия popup
        function closePopup() {
            // Устанавливаем стиль 'display' в 'none', чтобы скрыть overlay и popup
            document.getElementById("overlay").style.display = "none";
        }
    </script>
  </body>
</html>
